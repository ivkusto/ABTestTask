parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zjhK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Y_AXIS_MARK=exports.ROLL=exports.PITCH=exports.X_AXIS_MARK=exports.SKY_SCREEN_PROPORTION=exports.HORIZON_HEIGHT=void 0;var _=.01;exports.HORIZON_HEIGHT=_;var I=.8;exports.SKY_SCREEN_PROPORTION=I;var E={width:.2,height:.01,offset:.03};exports.X_AXIS_MARK=E;var R={LINE_WIDTH:.005,BIG_MARK_WIDTH:.3,MID_MARK_WIDTH:.15,MID_STEP_DEGREE:10,BIG_STEP_DEGREE:20,FONT_SIZE:.04,FONT_OFFSET:.01,MAX_VISIBLE_DEGREE:30};exports.PITCH=R;var e={LINE_WIDTH:.005,BIG_MARK_WIDTH:.05,MID_MARK_WIDTH:.025,ANGLE:Math.PI,R:.5,MID_STEP_DEGREE:10,BIG_STEP_DEGREE:20,FONT_SIZE:.04};exports.ROLL=e;var r={HEIGHT:.08,WIDTH:.04};exports.Y_AXIS_MARK=r;
},{}],"pTGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Colors=void 0,exports.Colors={sky:"#66AFEE",horizon:"#a7b3c3",ground:"#30170F",xAxis:"#FDDC1A",scaleColor:"#FFFFFF"};
},{}],"wn3F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawBackground=void 0;var e=require("../Consts/sizes"),t=require("../Consts/colors");function l(l,o){var r=Math.ceil(Math.sqrt(Math.pow(o.width/2,2)+Math.pow(o.horizonOffset,2))),i=o.height;l.fillStyle=t.Colors.sky,l.fillRect(-r,2*-i,2*r,2*i),l.fillRect(-r,2*i,2*r,i),l.fillStyle=t.Colors.ground,l.fillRect(-r,0,2*r,2*i),l.fillRect(-r,3*-i,2*r,i);var s=o.height*e.HORIZON_HEIGHT;l.fillStyle=t.Colors.horizon,l.fillRect(-r,0-s/2,2*r,s)}exports.drawBackground=l;
},{"../Consts/sizes":"zjhK","../Consts/colors":"pTGR"}],"mLuY":[function(require,module,exports) {
"use strict";function e(e){return e*Math.PI/180}function r(e){var r=180*e/Math.PI%360;return r<=180?r:r-360}Object.defineProperty(exports,"__esModule",{value:!0}),exports.radToDegree=exports.degreeToRad=void 0,exports.degreeToRad=e,exports.radToDegree=r;
},{}],"pjNG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pitchLevel=void 0;var e=require("../Consts/colors"),t=require("../Consts/sizes"),E=require("../Utils/angle");function o(o,r){var i=r.height;o.lineWidth=t.PITCH.LINE_WIDTH*r.width;var I=t.PITCH.BIG_MARK_WIDTH*r.width,T=t.PITCH.MID_MARK_WIDTH*r.width;o.strokeStyle=e.Colors.scaleColor,o.beginPath(),o.textAlign="left",o.textBaseline="middle",o.font="100 ".concat(t.PITCH.FONT_SIZE*r.width,"px serif"),o.fillStyle=e.Colors.scaleColor;for(var l=Math.floor(Math.max(-180,E.radToDegree(r.pitch)-t.PITCH.MAX_VISIBLE_DEGREE)/t.PITCH.MID_STEP_DEGREE)*t.PITCH.MID_STEP_DEGREE,_=Math.floor(Math.min(180,E.radToDegree(r.pitch)+t.PITCH.MAX_VISIBLE_DEGREE)/t.PITCH.MID_STEP_DEGREE)*t.PITCH.MID_STEP_DEGREE,s=l;s<=_;s+=t.PITCH.MID_STEP_DEGREE){var a=s%t.PITCH.BIG_STEP_DEGREE==0,P=a?I:T;if(o.moveTo(-P/2,s*i*2/180),o.lineTo(P/2,s*i*2/180),a||s%90==0){var h=Math.abs(s)>90?180*Math.sign(s)-s:s;o.fillText(h.toString(),I/2+t.PITCH.FONT_OFFSET*r.width,s*i*2/180)}}o.stroke()}exports.pitchLevel=o;
},{"../Consts/colors":"pTGR","../Consts/sizes":"zjhK","../Utils/angle":"mLuY"}],"qlPt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rollLevel=void 0;var e=require("../Consts/colors"),t=require("../Consts/sizes"),r=require("../Utils/angle");function o(o,L){L.height;o.lineWidth=t.ROLL.LINE_WIDTH*L.width;var l=1.5*Math.PI;o.strokeStyle=e.Colors.scaleColor,o.beginPath();var i=L.width*t.ROLL.R;o.arc(0,0,i,l-t.ROLL.ANGLE,l+t.ROLL.ANGLE);var s=t.ROLL.BIG_MARK_WIDTH*L.width,a=t.ROLL.MID_MARK_WIDTH*L.width;o.textAlign="center",o.textBaseline="bottom",o.font="100 ".concat(t.ROLL.FONT_SIZE*L.width,"px serif"),o.fillStyle=e.Colors.scaleColor;for(var R=r.radToDegree(-t.ROLL.ANGLE);R<r.radToDegree(t.ROLL.ANGLE);R+=t.ROLL.MID_STEP_DEGREE){var n=r.degreeToRad(R),E=R%t.ROLL.BIG_STEP_DEGREE==0,d=E?s:a;o.rotate(n),o.moveTo(0,-i),o.lineTo(0,-i-d),E&&o.fillText(R.toString(),0,-i-d),o.rotate(-n)}o.stroke()}exports.rollLevel=o;
},{"../Consts/colors":"pTGR","../Consts/sizes":"zjhK","../Utils/angle":"mLuY"}],"Rpq5":[function(require,module,exports) {
"use strict";function t(t,r){return function(e,o){var a=o.pitch*o.height*2/Math.PI;e.setTransform(1,0,0,1,0,0),e.translate(o.width/2,o.horizonOffset),e.rotate(-o.roll),r||e.translate(0,-a),t.forEach(function(t){return t(e,o)}),e.setTransform(1,0,0,1,0,0)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateComera=void 0,exports.rotateComera=t;
},{}],"nQZI":[function(require,module,exports) {
"use strict";function r(r,e,t){var s=Math.cos(r),o=Math.sin(r);return[s,o,-o,s,e,t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTransformArgs=void 0,exports.getTransformArgs=r;
},{}],"PqJM":[function(require,module,exports) {
"use strict";function t(t){return o(t)||i(t)||e(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}function i(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t){if(Array.isArray(t))return n(t)}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,i=new Array(r);e<r;e++)i[e]=t[e];return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawAxis=void 0;var s=require("../Consts/sizes"),a=require("../Consts/colors"),l=require("../Utils/transform");function f(r,e){r.setTransform.apply(r,t(l.getTransformArgs(0,e.width/2,e.horizonOffset)));var i=e.height*s.X_AXIS_MARK.height,o=e.width*s.X_AXIS_MARK.width,n=e.width*s.X_AXIS_MARK.offset;r.fillStyle=a.Colors.xAxis,r.fillRect(-e.width/2+n,-i/2,o,i),r.fillRect(e.width/2-o-n,-i/2,o,i),r.fillRect(-i/2,-i/2,i,i),r.beginPath();var f=s.ROLL.R*e.width,u=s.Y_AXIS_MARK.HEIGHT*e.width,c=s.Y_AXIS_MARK.WIDTH*e.width;r.moveTo(0,-f),r.lineTo(-c/2,-f-u),r.lineTo(c/2,-f-u),r.lineTo(0,-f),r.fill()}exports.drawAxis=f;
},{"../Consts/sizes":"zjhK","../Consts/colors":"pTGR","../Utils/transform":"nQZI"}],"MpWc":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlightDirector=void 0;var r=require("./Consts/sizes"),n=require("./Objects/background"),a=require("./Objects/pitchLevel"),s=require("./Objects/rollLevel"),o=require("./Objects/rotateCamera"),c=require("./Objects/axis"),h=[o.rotateComera([n.drawBackground,a.pitchLevel]),o.rotateComera([s.rollLevel],!0),c.drawAxis],l=function(){function t(i){var r=this;e(this,t),this._roll=0,this._pitch=0,this.setRoll=function(e){r._roll=e,r._animationFrameRender()},this.setPitch=function(e){r._pitch=e,r._animationFrameRender()},this._ctx=i.getContext("2d"),this._canvas=i,this._addResizeHandler(),this.resize()}return i(t,[{key:"_render",value:function(){var e=this,t=this._canvas.clientHeight,i={roll:this._roll,pitch:this._pitch,width:this._canvas.clientWidth,height:t,horizonOffset:t*r.SKY_SCREEN_PROPORTION};this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),h.forEach(function(t){return t(e._ctx,i)})}},{key:"resize",value:function(){this._canvas.width=this._canvas.offsetWidth,this._canvas.height=this._canvas.offsetHeight,this._render()}},{key:"setData",value:function(e){var t=e.roll,i=e.pitch;this._roll=t,this._pitch=i,this._animationFrameRender()}},{key:"_animationFrameRender",value:function(){var e=this;window.requestAnimationFrame(function(){return e._render()})}},{key:"_addResizeHandler",value:function(){var e=this;window.onresize=function(){e.resize()}}}]),t}();exports.FlightDirector=l;
},{"./Consts/sizes":"zjhK","./Objects/background":"wn3F","./Objects/pitchLevel":"pjNG","./Objects/rollLevel":"qlPt","./Objects/rotateCamera":"Rpq5","./Objects/axis":"PqJM"}],"QCba":[function(require,module,exports) {
"use strict";function t(t,r){return i(t)||o(t,r)||n(t,r)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}function i(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./FlightDirector/FlightDirector"),u=require("./FlightDirector/Utils/angle");window.addEventListener("load",c);var l=.05;function c(){var e=document.getElementById("cvs"),n={x:0,y:0},r=!1,o=0,i=0,c=new a.FlightDirector(e);function d(t){r=!1;var e=t.target.value;this.form[this.dataset.bind].value=e,("roll"===this.dataset.type?c.setRoll:c.setPitch)(u.degreeToRad(parseInt(e,10)))}function s(t){return Math.abs(t)<Math.PI?t:Math.sign(t)*Math.PI}["roll-range","roll-input","pitch-range","pitch-input"].map(function(t){return document.getElementById(t)}).forEach(function(t){return t.addEventListener("input",d)}),[["btn-up","y",-l],["btn-down","y",l],["btn-left","x",-l],["btn-right","x",l]].forEach(function(e){var o=t(e,3),i=o[0],a=o[1],u=o[2];document.getElementById(i).addEventListener("mousedown",function(){r=!0,n[a]=u}),document.getElementById(i).addEventListener("mouseup",function(){r=!1,n[a]=0})}),setInterval(function(){r&&(o=s(o+n.x),i=s(i+n.y),c.setRoll(o),c.setPitch(i))},100)}
},{"./FlightDirector/FlightDirector":"MpWc","./FlightDirector/Utils/angle":"mLuY"}]},{},["QCba"], null)
//# sourceMappingURL=src.f77e2526.js.map